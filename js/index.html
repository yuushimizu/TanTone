<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Web Wave Maker</title>
    <style>
      * {
        padding: 0;
        margin: 0;
      }
      
      body {
        font-size: 0.9em;
        padding-bottom: 3em;
      }

      a {
        color: #169;
      }

      h1 {
        font-size: 1.3em;
        background-color: #124;
        color: #eef;
        padding-left: 0.5em;
        margin-bottom: 0.5em;
      }

      h2 {
        font-size: 1em;
        background-color: #235;
        color: #eef;
        padding-left: 0.5em;
        margin-bottom: 0.5em;
        margin-top: 1em;
      }

      h3 {
        font-size: 1em;
        background-color: #346;
        color: #eef;
        padding-left: 0.5em;
      }

      .section {
        margin-left: 2em;
        margin-bottom: 1em;
      }

      .form-field-label {
        margin-right: 2em;
      }

      .submit {
        background-color: #f53;
        color: #fef;
        font-size: 1em;
        padding-left: 3em;
        padding-right: 3em;
        padding-top: 0.5em;
        padding-bottom: 0.5em;
      }
      
      #wave-link {
        margin-left: 1em;
        font-size: 1em;
      }

      #wave-base64 {
        width: 100%;
      }

      .wave-form {
        background-color: #eef;
        padding: 1em;
        border: solid 1px #235;
        border-top: solid 0.7em #235;
      }

      .wave-header {
        text-align: right;
      }

      .wave-footer {
        text-align: right;
      }

      #wave-forms {
        margin-bottom: 1em;
      }

      .wave-alternation-forms {
        overflow-x: auto;
        white-space: nowrap;
      }

      .wave-alternation-form {
        width: 20em;
        display: inline-block;
        margin-right: 1em;
        margin-top: 1em;
        margin-bottom: 1em;
        padding: 1em;
        border: solid 1px #346;
        border-top: solid 0.7em #346;
        background-color: #fff;
      }

      .wave-alternation-header {
        margin-bottom: 1em;
      }

      .wave-alternation-footer {
        text-align: right;
        margin-top: 1em;
      }

      .template {
        display: none;
      }
    </style>
  </head>
  <body>
    <form id="form">
      <h1>出力設定</h1>
      <div class="section">
        <p><span class="form-field-label">サンプリングレート</span><span><input type="text" value="44100" id="samples-per-second-field">Hz</span></p>
        <p><span class="form-field-label">チャンネル数</span><span><input type="text" value="2" id="channels-field"></input></p>
        <p><span class="form-field-label">サンプリングサイズ</span><span><input type="text" value="2" id="bytes-per-sample-field">バイト</span></p>
        <p><span class="form-field-label">長さ</span><span><input type="text" value="1000" id="length-field">ミリ秒</span></p>
      </div>
      <h1>波形設定</h1>
      <div class="section">
        <div class="template" id="wave-template">
          <div class="wave-form" id="wave-:template-wave-id:">
            <div class="wave-header">
              <p><a href="javascript:void(0)" id="wave-add-alternation-:template-wave-id:">一番右に変化点を追加 ＞＞</a></p>
            </div>
            <div class="template" id="wave-alternation-template-:template-wave-id:">
              <div class="wave-alternation-form" id="wave-alternation-:template-wave-id:-:template-alternation-id:">
                <div class="wave-alternation-header">
                  <p><a href="javascript:void(0)" id="wave-insert-alternation-:template-wave-id:-:template-alternation-id:">＜＜ 左側に変化点を挿入</a></p>
                </div>
                <p><span class="form-field-label">有効</span><span><input type="checkbox" id="wave-enabled-:template-wave-id:-:template-alternation-id:" checked="checked"></span></p>
                <p><span class="form-field-label">開始</span><span><input type="text" value="0" id="wave-start-field-:template-wave-id:-:template-alternation-id:">ミリ秒</span></p>
                <p>
                  <span class="form-field-label">種類</span>
                  <span>
                    <select id="wave-type-:template-wave-id:-:template-alternation-id:">
                      <option value="sin" selected="selected">正弦波</option>
                      <option value="rect">矩形波</option>
                      <option value="saw">のこぎり波</option>
                    </select>
                  </span>
                </p>
                <p><span class="form-field-label">周波数</span><span><input type="text" value="440" id="wave-rate-field-:template-wave-id:-:template-alternation-id:">Hz</span></p>
                <p><span class="form-field-label">音量</span><span><input type="text" value="50" id="wave-volume-field-:template-wave-id:-:template-alternation-id:">%</span></p>
                <p>
                  <span class="form-field-label">変化方法</span>
                  <span>
                    <select id="wave-alternation-method-:template-wave-id:-:template-alternation-id:">
                      <option value="average" select="selected">滑らかに</option>
                      <option value="immediately">急に</option>
                    </select>
                    </span>
                </p>
                <div class="wave-alternation-footer">
                  <p><a href="javascript:void(0)" id="delete-wave-alternation-:template-wave-id:-:template-alternation-id:">削除</a></p>
                </div>
              </div>
            </div>
            <div class="wave-alternation-forms" id="wave-alternations-:template-wave-id:">
            </div>
            <div class="wave-footer">
              <p><a href="javascript:void(0)" id="delete-wave-:template-wave-id:">削除</a></p>
            </div>
          </div>
        </div>
        <div id="wave-forms">
        </div>
        <p><a href="javascript:void(0)" id="add-wave-form">波形を追加</a></p>
      </div>
      <h1>結果</h1>
      <div class="section">
        <p>
          <input type="submit" value="作成" class="submit">
          <a href="javascript:void(0)" target="_blank" id="wave-link">WAVEファイル</a>
        </p>
        <h2>音</h2>
        <p><audio controls="controls" id="audio"></audio></p>
        <h2>先頭100ミリ秒間の波形</h2>
        <p><canvas width="960" height="240" id="wave-canvas"></canvas></p>
      </div>
    </form>
    <script type="text/javascript" src="./web_wave.js"></script>
  </body>
</html>
